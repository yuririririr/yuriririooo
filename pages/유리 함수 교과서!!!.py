import streamlit as st
import math

# ----------------------------
# ğŸŒˆ ì „ì²´ ìŠ¤íƒ€ì¼ (ë°°ê²½ + í°íŠ¸ + ë²„íŠ¼)
# ----------------------------
st.markdown("""
<style>
body {
    background: linear-gradient(135deg, #E3F2FD 0%, #FFFFFF 100%);
    font-family: 'Noto Sans KR', sans-serif;
    color: #0D47A1;
}
section.main > div {
    background: rgba(255,255,255,0.92);
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(33,150,243,0.15);
}
h1, h2, h3 {
    color: #1565C0;
}
.stButton button {
    background-color: #1565C0;
    color: white;
    border-radius: 8px;
    font-weight: bold;
}
.stButton button:hover {
    background-color: #0D47A1;
}
table {
    background-color: #F6FAFF;
    border-collapse: collapse;
    width: 100%;
    border-radius: 8px;
}
table th, table td {
    border: 1px solid #E3F2FD;
    padding: 8px;
    text-align: center;
}
</style>
""", unsafe_allow_html=True)

# ----------------------------
# ğŸ“˜ í‘œì§€
# ----------------------------
st.markdown("<h1 style='text-align:center;'>ğŸ“˜ ê³µí†µìˆ˜í•™â…¡ - ìœ ë¦¬í•¨ìˆ˜ êµê³¼ì„œ</h1>", unsafe_allow_html=True)
st.markdown("<h4 style='text-align:center;'>ê°œë…ë¶€í„° ì‹¤ìƒí™œê¹Œì§€ ì™„ì „ ì •ë³µ!</h4>", unsafe_allow_html=True)
st.info("ì´ êµê³¼ì„œëŠ” ê³µí†µìˆ˜í•™â…¡ êµê³¼ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ìœ ë¦¬í•¨ìˆ˜ë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. "
        "ê° ì†Œë‹¨ì›ì€ ê°œë… â†’ ì˜ˆì‹œ â†’ ì‹¤ìƒí™œ â†’ í€´ì¦ˆ ìˆœì„œë¡œ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

# ----------------------------
# 1ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ëœ»
# ----------------------------
st.header("1ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ëœ»")
st.write("""
**ìœ ë¦¬í•¨ìˆ˜**ë€ â€˜ë¶„ëª¨ì— ë¬¸ìê°€ í¬í•¨ëœ í•¨ìˆ˜â€™ë¥¼ ë§í•©ë‹ˆë‹¤.  
ì¢€ ë” ì •í™•íˆ ë§í•˜ë©´, **ë¶„ìì™€ ë¶„ëª¨ê°€ ëª¨ë‘ ë‹¤í•­ì‹**ìœ¼ë¡œ ì´ë£¨ì–´ì§„ í•¨ìˆ˜ì…ë‹ˆë‹¤.

\\[
f(x) = \\frac{P(x)}{Q(x)}, \\quad Q(x) \\neq 0
\\]

ì¦‰, ë¶„ëª¨ê°€ 0ì´ ë˜ëŠ” ê³³ì—ì„œëŠ” 0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ê°’ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
ë”°ë¼ì„œ ìœ ë¦¬í•¨ìˆ˜ì˜ **ì •ì˜ì—­**ì€ â€˜ë¶„ëª¨ë¥¼ 0ìœ¼ë¡œ ë§Œë“œëŠ” xê°’ì„ ì œì™¸í•œ ëª¨ë“  ì‹¤ìˆ˜â€™ì…ë‹ˆë‹¤.
""")

st.info("ì˜ˆì‹œ) \\( f(x) = \\frac{x+1}{x-2} \\) ëŠ” x=2ì—ì„œ ì •ì˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. â†’ ì •ì˜ì—­: ëª¨ë“  ì‹¤ìˆ˜ ì¤‘ 2 ì œì™¸")

# í™•ì¸ í€´ì¦ˆ 1
st.subheader("ğŸ§  í™•ì¸ í€´ì¦ˆ 1")
q1 = st.radio(
    "ë‹¤ìŒ ì¤‘ ìœ ë¦¬í•¨ìˆ˜ì˜ ì •ì˜ë¡œ ì•Œë§ì€ ê²ƒì€?",
    [
        "â‘  ë¶„ìê°€ ìƒìˆ˜ì´ê³  ë¶„ëª¨ê°€ ë¬¸ìì´ë‹¤.",
        "â‘¡ ë¶„ìì™€ ë¶„ëª¨ê°€ ëª¨ë‘ ë‹¤í•­ì‹ì´ë‹¤.",
        "â‘¢ ë¶„ëª¨ê°€ 0ì´ ë˜ì–´ë„ ìƒê´€ì—†ëŠ” í•¨ìˆ˜ì´ë‹¤.",
        "â‘£ ë¡œê·¸í•¨ìˆ˜ë¥¼ í¬í•¨í•œ ëª¨ë“  í•¨ìˆ˜ì´ë‹¤."
    ],
    index=None
)
if q1:
    if q1.startswith("â‘¡"):
        st.success("âœ… ì •ë‹µ! ìœ ë¦¬í•¨ìˆ˜ëŠ” ë¶„ìì™€ ë¶„ëª¨ê°€ ëª¨ë‘ ë‹¤í•­ì‹ì¸ í•¨ìˆ˜ì…ë‹ˆë‹¤.")
    else:
        st.error("âŒ ì˜¤ë‹µì´ì—ìš”. ë¶„ìì™€ ë¶„ëª¨ê°€ ëª¨ë‘ ë‹¤í•­ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.")

# ----------------------------
# 2ï¸âƒ£ ê¸°ë³¸í˜• ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„
# ----------------------------
st.header("2ï¸âƒ£ ê¸°ë³¸í˜• ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„")
st.write("""
ê°€ì¥ ê¸°ë³¸ì ì¸ ìœ ë¦¬í•¨ìˆ˜ëŠ” \\( y = \\frac{k}{x} \\)ì…ë‹ˆë‹¤.  
ì´ í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„±ì§ˆì„ ê°€ì§‘ë‹ˆë‹¤:

- **x=0**ì—ì„œëŠ” ì •ì˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ â†’ ìˆ˜ì§ì ê·¼ì„  x=0  
- **xê°€ ì»¤ì§ˆìˆ˜ë¡ (ë˜ëŠ” ì‘ì•„ì§ˆìˆ˜ë¡)**, yëŠ” 0ì— ê°€ê¹Œì›Œì§‘ë‹ˆë‹¤ â†’ ìˆ˜í‰ì ê·¼ì„  y=0
- ê·¸ë˜í”„ëŠ” ì›ì ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì ëŒ€ì¹­ì…ë‹ˆë‹¤.
""")

st.markdown("""
| êµ¬ë¶„ | k > 0 | k < 0 |
|------|--------|--------|
| ê·¸ë˜í”„ ìœ„ì¹˜ | 1ì‚¬ë¶„ë©´ê³¼ 3ì‚¬ë¶„ë©´ | 2ì‚¬ë¶„ë©´ê³¼ 4ì‚¬ë¶„ë©´ |
| ëŒ€ì¹­ì„± | ì›ì  ëŒ€ì¹­ | ì›ì  ëŒ€ì¹­ |
| ì ê·¼ì„  | x=0, y=0 | x=0, y=0 |
""")

st.warning("ğŸ’¡ ì ê·¼ì„ ì€ â€˜ê·¸ë˜í”„ê°€ ê°€ê¹Œì›Œì§€ì§€ë§Œ ë‹¿ì§€ ì•ŠëŠ” ì§ì„ â€™ì´ì—ìš”. ì¦‰, ë¬´í•œíˆ ì ‘ê·¼í•˜ì§€ë§Œ ë§Œë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")

# í™•ì¸ í€´ì¦ˆ 2
st.subheader("ğŸ§  í™•ì¸ í€´ì¦ˆ 2")
q2 = st.radio(
    "y = k/xì—ì„œ kê°€ ìŒìˆ˜ì¼ ë•Œ ê·¸ë˜í”„ëŠ” ì–´ë””ì— ìœ„ì¹˜í•˜ë‚˜ìš”?",
    [
        "â‘  1ì‚¬ë¶„ë©´ê³¼ 3ì‚¬ë¶„ë©´",
        "â‘¡ 2ì‚¬ë¶„ë©´ê³¼ 4ì‚¬ë¶„ë©´",
        "â‘¢ 1ì‚¬ë¶„ë©´ê³¼ 2ì‚¬ë¶„ë©´",
        "â‘£ 3ì‚¬ë¶„ë©´ê³¼ 4ì‚¬ë¶„ë©´"
    ],
    index=None
)
if q2:
    if q2.startswith("â‘¡"):
        st.success("âœ… ì •ë‹µ! k<0ì´ë©´ ê·¸ë˜í”„ëŠ” 2ì‚¬ë¶„ë©´ê³¼ 4ì‚¬ë¶„ë©´ì— ìˆìŠµë‹ˆë‹¤.")
    else:
        st.error("âŒ ì˜¤ë‹µì´ì—ìš”. kê°€ ìŒìˆ˜ë©´ yê°’ë„ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.")

# ----------------------------
# 3ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„ ì´ë™
# ----------------------------
st.header("3ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„ ì´ë™")
st.write("""
ìœ ë¦¬í•¨ìˆ˜ëŠ” xì¶•ê³¼ yì¶• ë°©í–¥ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ê¸°ë³¸í˜• \\( y = \\frac{k}{x} \\)ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¾¸ë©´ ì´ë™ëœ ê·¸ë˜í”„ê°€ ë©ë‹ˆë‹¤.

\\[
y = \\frac{k}{x - a} + b
\\]

- (x - a)ëŠ” ê·¸ë˜í”„ë¥¼ **ì˜¤ë¥¸ìª½ìœ¼ë¡œ aë§Œí¼ ì´ë™**
- +bëŠ” ê·¸ë˜í”„ë¥¼ **ìœ„ë¡œ bë§Œí¼ ì´ë™**
- ìˆ˜ì§ì ê·¼ì„ : x=a
- ìˆ˜í‰ì ê·¼ì„ : y=b
- ì¤‘ì‹¬ì : (a, b)
""")

st.markdown("""
| í•­ëª© | ì˜ë¯¸ | ì ê·¼ì„  |
|------|------|---------|
| a | ê·¸ë˜í”„ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ aë§Œí¼ ì´ë™ | x = a |
| b | ê·¸ë˜í”„ë¥¼ ìœ„ë¡œ bë§Œí¼ ì´ë™ | y = b |
""")

# í™•ì¸ í€´ì¦ˆ 3
st.subheader("ğŸ§  í™•ì¸ í€´ì¦ˆ 3")
q3 = st.radio(
    "y = 2/(x-3) + 1 ì˜ ìˆ˜ì§ì ê·¼ì„ ê³¼ ìˆ˜í‰ì ê·¼ì„ ì€?",
    [
        "â‘  x=3, y=1",
        "â‘¡ x=-3, y=-1",
        "â‘¢ x=0, y=0",
        "â‘£ x=-3, y=1"
    ],
    index=None
)
if q3:
    if q3.startswith("â‘ "):
        st.success("âœ… ì •ë‹µ! x=3, y=1 ì´ ì ê·¼ì„ ì´ì—ìš”.")
    else:
        st.error("âŒ ì˜¤ë‹µì´ì—ìš”. (x-3)ì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ 3, +1ì€ ìœ„ë¡œ 1 ì´ë™ì…ë‹ˆë‹¤.")

# ----------------------------
# 4ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ì„±ì§ˆ ìš”ì•½
# ----------------------------
st.header("4ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ì„±ì§ˆ ì •ë¦¬")
st.markdown("""
| í•­ëª© | ë‚´ìš© |
|------|------|
| ì •ì˜ | ë¶„ìÂ·ë¶„ëª¨ ëª¨ë‘ ë‹¤í•­ì‹ |
| ì •ì˜ì—­ | ë¶„ëª¨ë¥¼ 0ìœ¼ë¡œ ë§Œë“œëŠ” ê°’ ì œì™¸ |
| ì ê·¼ì„  | ìˆ˜ì§: x=a, ìˆ˜í‰: y=b |
| ëŒ€ì¹­ì„± | (a,b)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì ëŒ€ì¹­ |
| ë¶€í˜¸ | k>0 â†’ 1Â·3ì‚¬ë¶„ë©´, k<0 â†’ 2Â·4ì‚¬ë¶„ë©´ |
""")

# ----------------------------
# 5ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ì‹¤ìƒí™œ í™œìš©
# ----------------------------
st.header("5ï¸âƒ£ ìœ ë¦¬í•¨ìˆ˜ì˜ ì‹¤ìƒí™œ í™œìš©")
st.write("""
ìœ ë¦¬í•¨ìˆ˜ëŠ” ë‹¨ìˆœíˆ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ëŠ” ë° ê·¸ì¹˜ì§€ ì•Šê³ , **ì‹¤ìƒí™œì˜ ì—­ë¹„ë¡€ ê´€ê³„**ë¥¼ í‘œí˜„í•˜ëŠ” ë° ë§¤ìš° ìì£¼ ë“±ì¥í•©ë‹ˆë‹¤.  
ì•„ë˜ëŠ” ì‹¤ì œ êµê³¼ì„œì—ì„œ ì†Œê°œí•  ìˆ˜ ìˆëŠ” ëŒ€í‘œì ì¸ ì˜ˆì‹œë“¤ì…ë‹ˆë‹¤.
""")

st.markdown("""
### âš™ï¸ â‘  ì†ë„ì™€ ì´ë™ ì‹œê°„ì˜ ê´€ê³„
ê±°ë¦¬ Dê°€ ì¼ì •í•  ë•Œ, ì´ë™ ì‹œê°„ì€ ë‹¤ìŒ ì‹ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.
\\[
t = \\frac{D}{v}
\\]
- ì†ë„ vê°€ ì»¤ì§ˆìˆ˜ë¡ ì‹œê°„ tëŠ” ì¤„ì–´ë“­ë‹ˆë‹¤.  
â†’ **ì—­ë¹„ë¡€ ê´€ê³„**, ì¦‰ ìœ ë¦¬í•¨ìˆ˜ì˜ ëŒ€í‘œì  ì˜ˆì‹œì…ë‹ˆë‹¤.
""")

st.markdown("""
### ğŸ”Œ â‘¡ ì „ë¥˜ì™€ ì €í•­ì˜ ê´€ê³„ (ì˜´ì˜ ë²•ì¹™)
\\[
I = \\frac{V}{R}
\\]
- ì „ì••(V)ì€ ì¼ì •í•˜ë‹¤ê³  í•˜ë©´, ì €í•­(R)ì´ ì»¤ì§ˆìˆ˜ë¡ ì „ë¥˜(I)ëŠ” ì‘ì•„ì§‘ë‹ˆë‹¤.  
â†’ ì „ë¥˜ì™€ ì €í•­ì€ ìœ ë¦¬í•¨ìˆ˜ ê´€ê³„ì…ë‹ˆë‹¤.
""")

st.markdown("""
### â˜• â‘¢ ë†ë„ í¬ì„
ìš©ì§ˆì˜ ì–‘ Sê°€ ì¼ì •í•  ë•Œ, ì „ì²´ ë¶€í”¼ê°€ ì»¤ì§€ë©´ ë†ë„ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³€í•©ë‹ˆë‹¤.
\\[
C = \\frac{S}{V_0 + x}
\\]
- ë¬¼ì„ ë” ë„£ì„ìˆ˜ë¡ ë†ë„ê°€ í¬ì„ë©ë‹ˆë‹¤.  
â†’ ë¶„ëª¨ê°€ ì»¤ì§€ë©´ ì „ì²´ê°’ì´ ì‘ì•„ì§€ëŠ” ìœ ë¦¬í•¨ìˆ˜ì˜ íŠ¹ì§•ì…ë‹ˆë‹¤.
""")

st.markdown("""
### ğŸ”­ â‘£ ë Œì¦ˆì˜ ì´ˆì ê±°ë¦¬ ê³µì‹
\\[
\\frac{1}{f} = \\frac{1}{u} + \\frac{1}{v} \\Rightarrow v = \\frac{fu}{u - f}
\\]
- ë¬¼ì²´ê°€ ì´ˆì ì— ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ ìƒì˜ ìœ„ì¹˜(v)ëŠ” ê¸‰ê²©íˆ ë©€ì–´ì§‘ë‹ˆë‹¤.  
â†’ uì— ëŒ€í•œ ìœ ë¦¬í•¨ìˆ˜ ê´€ê³„ì…ë‹ˆë‹¤.
""")

st.markdown("""
### ğŸ’° â‘¤ ìƒì‚°ëŸ‰ê³¼ í‰ê· ë¹„ìš©
ì´ë¹„ìš©ì´ ì¼ì •í•  ë•Œ, ìƒì‚°ëŸ‰ì´ ë§ì•„ì§ˆìˆ˜ë¡ í‰ê· ë¹„ìš©ì€ ì¤„ì–´ë“­ë‹ˆë‹¤.
\\[
í‰ê· ë¹„ìš© = \\frac{ì´ë¹„ìš©}{ìƒì‚°ëŸ‰}
\\]
- ìƒì‚°ëŸ‰ì´ ë§ì•„ì§ˆìˆ˜ë¡ 1ê°œë‹¹ ë¹„ìš©ì´ ì¤„ì–´ë“œëŠ” ê²ƒì€ ì—­ë¹„ë¡€ ê´€ê³„ì…ë‹ˆë‹¤.
""")

# ì‹¤ìƒí™œ í€´ì¦ˆ
st.subheader("ğŸ§  ì‹¤ìƒí™œ í€´ì¦ˆ")
q4 = st.radio(
    "ë‹¤ìŒ ì¤‘ ìœ ë¦¬í•¨ìˆ˜ ê´€ê³„ê°€ ì•„ë‹Œ ê²ƒì€?",
    [
        "â‘  ì†ë„ì™€ ì´ë™ ì‹œê°„",
        "â‘¡ ì „ë¥˜ì™€ ì €í•­",
        "â‘¢ ìƒì‚°ëŸ‰ê³¼ í‰ê· ë¹„ìš©",
        "â‘£ ì‹œê°„ê³¼ ì˜¨ë„ ìƒìŠ¹ëŸ‰"
    ],
    index=None
)
if q4:
    if q4.startswith("â‘£"):
        st.success("âœ… ì •ë‹µ! ì‹œê°„ê³¼ ì˜¨ë„ ìƒìŠ¹ì€ ì¼ë°˜ì ìœ¼ë¡œ ì •ë¹„ë¡€ ê´€ê³„ì…ë‹ˆë‹¤.")
    else:
        st.error("âŒ ì˜¤ë‹µì´ì—ìš”. ì‹œê°„ê³¼ ì˜¨ë„ëŠ” ë³´í†µ ì •ë¹„ë¡€ ê´€ê³„ì˜ˆìš”.")

# ----------------------------
# 6ï¸âƒ£ ë‹¨ì› ë§ˆë¬´ë¦¬
# ----------------------------
st.header("6ï¸âƒ£ ë‹¨ì› ë§ˆë¬´ë¦¬ ìš”ì•½")
st.markdown("""
| í•­ëª© | í•µì‹¬ ë‚´ìš© |
|------|------------|
| ì •ì˜ | ë¶„ìì™€ ë¶„ëª¨ê°€ ëª¨ë‘ ë‹¤í•­ì‹ |
| ì •ì˜ì—­ | ë¶„ëª¨=0ì¸ xëŠ” ì œì™¸ |
| ê·¸ë˜í”„ | ì ê·¼ì„  x=a, y=b |
| ëŒ€ì¹­ | (a,b) ì ëŒ€ì¹­ |
| ì‹¤ìƒí™œ ì˜ˆì‹œ | ì†ë„-ì‹œê°„, ì „ë¥˜-ì €í•­, ë†ë„, ë Œì¦ˆ, í‰ê· ë¹„ìš© |
""")

st.success("ğŸ“ ìœ ë¦¬í•¨ìˆ˜ëŠ” â€˜ë‚˜ëˆ—ì…ˆ ê´€ê³„â€™ë¥¼ ìˆ˜í•™ì ìœ¼ë¡œ í‘œí˜„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤. "
           "ì†ë„, ì „ë¥˜, ë†ë„ ë“± ì‹¤ìƒí™œ ì† ìˆ˜ë§ì€ í˜„ìƒì´ ìœ ë¦¬í•¨ìˆ˜ì˜ ì›ë¦¬ë¥¼ ë”°ë¦…ë‹ˆë‹¤.")
st.balloons()
